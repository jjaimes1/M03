!function(n){function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var e={};t.m=n,t.c=e,t.i=function(n){return n},t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:r})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="https://projects.adludio.com/user-187/2325f61bc1e005658afa8540338b4d63/943a4b79b5477ea0ca9c/",t(t.s=55)}([function(n,t,e){"use strict";function r(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t,e){return{yaw:n,pitch:t,roll:e}}function a(n,t,e){return{x:n,y:t,z:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.orientation=i,t.acceleration=a;var c=t.Event=function n(t){u(this,n),this.type=t};t.MoveEvent=function(n){function t(n){u(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"move"));return e.point=n,e}return o(t,n),t}(c),t.OrientationEvent=function(n){function t(n){u(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"orientation"));return e.orientation=n,e}return o(t,n),t}(c),t.AccelerationEvent=function(n){function t(n){u(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"acceleration"));return e.acceleration=n,e}return o(t,n),t}(c),t.ClickEvent=function(n){function t(n,e){u(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"click"));return o.point=n,o.button=e,o}return o(t,n),t}(c),t.InsertEvent=function(n){function t(n,e){u(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"insert"));return o.parent=n,o.node=e,o}return o(t,n),t}(c),t.RemoveEvent=function(n){function t(n){u(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"remove"));return e.id=n,e}return o(t,n),t}(c),t.UpdateEvent=function(n){function t(n,e,o,i){u(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"update"));return a.id=n,a.asset=e,a.transform=o,a.absolute=i,a}return o(t,n),t}(c),t.StateEvent=function(n){function t(n,e){u(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"state"));return o.name=n,o.data=e,o}return o(t,n),t}(c),t.AssetEvent=function(n){function t(n,e){u(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"asset"));return o.name=n,o.data=e,o}return o(t,n),t}(c),t.ComponentEvent=function(n){function t(n,e,o){u(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"component"));return i.name=n,i.add=e,i.remove=o,i}return o(t,n),t}(c),t.TrackEvent=function(n){function t(n,e){u(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"track"));return o.name=n,o.data=e,o}return o(t,n),t}(c)},function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function o(n,t,e,r,o){return{id:n,size:A.point(t,e),asset:r,transform:o}}function u(n,t,e,r,u,i,a){return E.tree(o(n,t,e,r,u,i),a)}function i(n,t,e){return E.update(function(n){return t===n.id},e,n)}function a(n,t){return E.remove(function(n){return t===n.id},n)}function c(n,t,e){return E.insert(function(n){return t===n.id},e,n)}function s(n,t){return E.find(function(n){return t===n.id},n)}function l(n,t){var e=s(n,t);if(null==e)throw new Error('node.byId(): no node with ID "'+t+'" found.');return e.node}function f(n){return x.notNull(E.flatMap(function(n){return n.asset},n))}function v(n,t){return E.parents(function(n){return n.id===t},n)}function d(n,t){return j.compose(n.transform,t)}function h(n,t){return T.compose(n,T.fromTransform(t.transform))}function p(n,t){return v(n,t.id).reduce(h,T.reset)}function y(n,t){function e(n,r){var o=T.compose(n,T.fromTransform(r.node.transform));return(t(r.node,o)?[r.node]:[]).concat(x.flatMap(e.bind(null,o),r.children))}return e(T.reset,n)}function b(n,t){var e=y(n,t);return e.length>0?e[0]:null}function m(n,t){var e=y(n,t);return e.length>0?e[e.length-1]:null}function w(n,t){var e=T.transformPoint(t,A.point(0,0)),r=T.transformPoint(t,A.point(n.size.x,0)),o=T.transformPoint(t,A.point(0,n.size.y));return A.boundsFor(e,r,o)}function g(n,t){return n.id===t.id&&n.size.x===t.size.x&&n.size.y===t.size.y&&n.asset===t.asset&&j.equals(n.transform,t.transform)}function O(n,t){return E.equals(g,n,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.nodeAtPoint=void 0,t.node=o,t.make=u,t.update=i,t.remove=a,t.insert=c,t.get=s,t.byId=l,t.assetsIn=f,t.parents=v,t.applyTransform=d,t.absTransform=p,t.filterWithTrans=y,t.findWithTrans=b,t.findLastWithTrans=m,t.bounds=w,t.equals=g,t.equalScenes=O;var _=e(4),x=r(_),k=e(7),E=r(k),P=e(2),j=r(P),M=e(3),A=r(M),S=e(13),T=r(S),I=e(15),z=r(I);t.nodeAtPoint=z.memo3(function(n,t,e){var r=y(n,function(n,e){return n.transform&&!!n.transform.opacity&&A.pointInBounds(w(n,e),t)}).filter(function(n){return x.containsId(n,e)});return r.length>0?r[0]:null})},function(n,t,e){"use strict";function r(n){var t=n&&n.size?Math.round(n.size.x/2):0,e=n&&n.size?Math.round(n.size.y/2):0;return{translate:{x:0,y:0},rotate:{anchor:{x:t,y:e},value:0},scale:{anchor:{x:t,y:e},value:{x:1,y:1}},opacity:1}}function o(n,t){var e={translate:{x:n.translate.x,y:n.translate.y},rotate:{value:n.rotate.value,anchor:{x:n.rotate.anchor.x,y:n.rotate.anchor.y}},scale:{value:{x:n.scale.value.x,y:n.scale.value.y},anchor:{x:n.scale.anchor.x,y:n.scale.anchor.y}},opacity:n.opacity};return"object"===i(t.translate)&&(e.translate=Object.assign({},t.translate)),"object"===i(t.rotate)&&("object"===i(t.rotate.anchor)&&(e.rotate.anchor=Object.assign({},t.rotate.anchor)),isNaN(t.rotate.value)||(e.rotate.value=t.rotate.value)),"object"===i(t.scale)&&("object"===i(t.scale.anchor)&&(e.scale.anchor=Object.assign({},t.scale.anchor)),"object"===i(t.scale.value)&&(e.scale.value=Object.assign({},t.scale.value))),isNaN(t.opacity)||(e.opacity=t.opacity),e}function u(n,t){var e=r(t);return n?o(e,n):e}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},a=e(23);Object.keys(a).forEach(function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(t,n,{enumerable:!0,get:function(){return a[n]}})}),t.getDefaultTransform=r,t.mergeTransform=o,t.mergeDefaultTrans=u},function(n,t,e){"use strict";function r(n,t){return{x:n,y:t}}function o(n,t){return{x:n.x+t.x,y:n.y+t.y}}function u(n,t){return{x:n.x-t.x,y:n.y-t.y}}function i(n,t){return{x:n.x*t.x,y:n.y*t.y}}function a(n,t){return{x:n.x/t,y:n.y/t}}function c(n,t,e){return{ax:n.x,ay:n.y,bx:t.x,by:t.y,dx:e.x,dy:e.y}}function s(n){return r(n.ax,n.ay)}function l(n){return r(n.bx,n.by)}function f(n){return r(n.dx+(n.bx-n.ax),n.dy+(n.by-n.ay))}function v(n){return r(n.dx,n.dy)}function d(n){return n.ax===n.dx&&n.ay===n.by}function h(n,t){if(d(n))return n.ax<=t.x&&n.ay<=t.y&&t.x<=n.bx&&t.y<=n.dy;var e=n.bx-n.ax,r=n.by-n.ay,o=n.dx-n.ax,u=n.dy-n.ay,i=(t.x-n.ax)*e+(t.y-n.ay)*r,a=(t.x-n.bx)*e+(t.y-n.by)*r,c=(t.x-n.ax)*o+(t.y-n.ay)*u,s=(t.x-n.dx)*o+(t.y-n.dy)*u;return!(i<0||a>0||c<0||s>0)}function p(n,t){return h(n,s(t))&&h(n,l(t))&&h(n,f(t))&&h(n,v(t))}function y(n,t){return h(n,s(t))||h(n,l(t))||h(n,f(t))||h(n,v(t))||h(t,s(n))||h(t,l(n))||h(t,f(n))||h(t,v(n))}Object.defineProperty(t,"__esModule",{value:!0}),t.point=r,t.addPoints=o,t.subPoints=u,t.mulPoints=i,t.divPoint=a,t.boundsFor=c,t.pointInBounds=h,t.containsBounds=p,t.intersectsBounds=y},function(n,t,e){"use strict";function r(n){var t=void 0,e=[],r=n.length;for(t=0;t<r;t++)e.push(n[t]);return e}function o(n,t){var e=void 0;for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function u(n){for(var t=arguments.length,e=Array(t>1?t-1:0),u=1;u<t;u++)e[u-1]=arguments[u];return r(arguments).slice(1).reduce(function(n,t){return o(n,t)},o({},n))}function i(n,t){return o(o({},n),t)}function a(n,t){var e=0,r=n.length;if(r!==t.length)return!1;for(;e<r;e++)if(n[e]!==t[e])return!1;return!0}function c(n){for(var t=[],e=0,r=n.length,o=void 0;e<r;e++)null!=(o=n[e])&&t.push(o);return t}function s(n,t){return t.reduce(function(t,e){return t.concat(n(e))},[])}function l(n,t){for(var e=0,r=t.length;e<r;e++)if(n(t[e]))return!0;return!1}function f(n,t){return l(function(t){return n.id===t.id},t)}function v(n,t){for(var e=0,r=t.length;e<r;e++)if(n(t[e]))return t[e];return null}function d(n,t){for(var e=[],r=[],o=0,u=t.length;o<u;o++)n(t[o])?e.push(t[o]):r.push(t[o]);return[e,r]}function h(n){return Object.keys(n).map(function(t){return n[t]})}Object.defineProperty(t,"__esModule",{value:!0}),t.toArray=r,t.merge=u,t.assoc=i,t.compareLists=a,t.notNull=c,t.flatMap=s,t.containsP=l,t.containsId=f,t.first=v,t.split=d,t.values=h},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}function o(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function u(n){return n?(Object.keys(n).forEach(function(t){var e=n[t],r=a(e.id,e.data);r&&(e.name=r.name,e.action=r.action,e.state=r.state)}),n):{}}function i(n,t,e,r){return n?(Object.keys(n).forEach(function(o){var u=n[o];if(-1!==e.indexOf(o)&&u.nodeIds.push(t),-1!==r.indexOf(o)){var i=u.nodeIds.indexOf(t);-1!==i&&u.nodeIds.splice(i,1)}}),n):{}}function a(n,t){var e=void 0;switch(n){case"click":e=new v.default(n,t);break;case"hover":e=new g.default(n,t);break;case"collide":e=new h.default(n,t);break;case"drag":e=new y.default(n,t);break;case"drop":case"dropInside":e=new m.default(n,t);break;case"parallax":e=new _.default(n,t);break;case"shake":e=new k.default(n,t);break;case"slide":e=new P.default(n,t);break;case"tilt":e=new M.default(n,t)}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.initSystemStates=u,t.updateSystems=i;var c=e(7),s=(o(c),e(15)),l=(o(s),e(1)),f=(o(l),e(39)),v=r(f),d=e(40),h=r(d),p=e(41),y=r(p),b=e(42),m=r(b),w=e(43),g=r(w),O=e(44),_=r(O),x=e(45),k=r(x),E=e(46),P=r(E),j=e(47),M=r(j)},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":v(t)));n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n){throw n}function a(n,t,e,r){var o=void 0;try{o=n(t)}catch(n){return void r(n)}e(o)}function c(n){var t=n();return t.next(),new x(function(n){return t.next(n)},function(n){return t.throw(n)},function(){return t.return()})}function s(n){return new P(n)}function l(){return new j}function f(n){return new M(n)}var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),h=function(n,t,e){for(var r=!0;r;){var o=n,u=t,i=e;r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,u);if(void 0!==a){if("value"in a)return a.value;var c=a.get;if(void 0===c)return;return c.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return;n=s,t=u,e=i,r=!0,a=s=void 0}};t.stream=s,t.bus=l,t.property=f;var p=e(8),y=r(p),b=e(11),m=r(b),w=e(49),g=r(w),O=function(){},_=function n(t,e,r){u(this,n),this.value=t,this.error=e,this.close=r};t.Sink=_;var x=function n(t,e,r){u(this,n),this.value=t||O,this.error=e||i,this.close=r||O};t.Observer=x;var k=function(n){function t(n){var e=this;u(this,t),h(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.closed=!1,this.observers=[],this.freeFn=null,this.producer=n,this.sink=new _(function(n){return(0,m.default)(function(){return e.observers.forEach(function(t){return t.value(n)})})},function(n){return(0,m.default)(function(){e.observers.forEach(function(t){return t.error(n)}),e.cleanup(),e.resolved||e.reject(n)})},function(){return(0,m.default)(function(){e.closed=!0,e.observers.forEach(function(n){return n.close()}),e.cleanup(),e.resolved||e.resolve(!0)})})}return o(t,n),d(t,[{key:"produce",value:function(){this.freeFn=this.producer(this.sink)}},{key:"free",value:function(){this.freeFn&&this.freeFn()}},{key:"cleanup",value:function(){this.free(),this.observers=[]}},{key:"observe",value:function(n){var t=this;if(this.closed)throw new Error("Cannot subscribe to a closed stream.");var e=0===this.observers.length;this.observers.push(n),e&&(0,m.default)(function(){return t.produce()})}},{key:"unobserve",value:function(n){var t=this.observers.indexOf(n);t>=0&&(this.observers=this.observers.slice(0,t).concat(this.observers.slice(t+1)),0===this.observers.length&&(this.free(),this.freeFn=null))}},{key:"subscribe",value:function(n,t,e){var r=(0,g.default)(n)?c(n):new x(n,t,e);return this.observe(r),r}},{key:"fold",value:function(n,t){var e=this,r=t;return new E(t,function(t){var o=function(o){var u=function(n){r=n,t.value(n)};a(n.bind(e,r),o,u,t.error)},u=e.subscribe(o,t.error,t.close);return function(){return e.unobserve(u)}})}},{key:"scan",value:function(n,t){var e=this,r=t;return new P(function(t){var o=function(o){var u=function(n){r=n,t.value(n)};a(n.bind(e,r),o,u,t.error)},u=e.subscribe(o,t.error,t.close);return function(){return e.unobserve(u)}})}}]),t}(y.default);t.Observable=k;var E=function(n){function t(n,e){var r=this;u(this,t),h(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.value=n;var o=this.sink.value;this.sink.value=function(n){o(n),r.value=n}}return o(t,n),d(t,[{key:"observe",value:function(n){h(Object.getPrototypeOf(t.prototype),"observe",this).call(this,n),n.value(this.value)}},{key:"sampleOn",value:function(n){var e=this;return new t(this.value,function(t){var r=e.value,o=e.subscribe(function(n){r=n},t.error,t.close),u=n.subscribe(function(n){t.value(r)},t.error,t.close);return function(){e.unobserve(o),n.unobserve(u)}})}},{key:"distinct",value:function(){var n=this;return new t(this.value,function(t){var e=n.value,r=n.subscribe(function(n){n!==e&&t.value(n),e=n},t.error,t.close);return function(){return n.unobserve(r)}})}},{key:"zip",value:function(n,e){var r=this,o=[this.value,n.value];return new t(e(o[0],o[1]),function(t){var u=o,i=[!1,!1],a=function(){r.unobserve(f),n.unobserve(v)},c=function(n){t.error(n),a()},s=function(){t.close(),a()},l=function(n){return function(r){i[n]?(u[n]=r,t.value(e(u[0],u[1]))):i[n]=!0}},f=r.subscribe(l(0),c,s),v=n.subscribe(l(1),c,s);return a})}}]),t}(k);t.Signal=E;var P=function(n){function t(){u(this,t),h(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,n),d(t,[{key:"map",value:function(n){var e=this;return new t(function(t){var r=e.subscribe(function(e){return a(n,e,t.value,t.error)},t.error,t.close);return function(){return e.unobserve(r)}})}},{key:"filter",value:function(n){var e=this;return new t(function(t){var r=e.subscribe(function(e){return a(n,e,function(n){n&&t.value(e)},t.error)},t.error,t.close);return function(){return e.unobserve(r)}})}},{key:"merge",value:function(n){var e=this;return new t(function(t){var r=[!1,!1],o=function(){e.unobserve(a),e.unobserve(c)},u=function(n){t.error(n),o()},i=function(n){return function(){r[n]=!0,r[0]&&r[1]&&(t.close(),o())}},a=e.subscribe(t.value,u,i(0)),c=n.subscribe(t.value,u,i(1));return o})}},{key:"concat",value:function(n){var e=this;return new t(function(t){var r=e,o=e.subscribe(t.value,t.error,function(){e.unobserve(o),r=n,o=n.subscribe(t.value,t.error,t.close)});return function(){return r.unobserve(o)}})}},{key:"zip",value:function(n,e){var r=this;return new t(function(t){var o=[null,null],u=function(){r.unobserve(s),n.unobserve(l)},i=function(n){t.error(n),u()},a=function(){t.close(),u()},c=function(n){return function(r){o[n]=r,t.value(e(o[0],o[1]))}},s=r.subscribe(c(0),i,a),l=n.subscribe(c(1),i,a);return u})}},{key:"zipLeft",value:function(n,e){var r=this;return new t(function(t){var o=[null,null],u=function(){r.unobserve(s),n.unobserve(l)},i=function(n){t.error(n),u()},a=function(){t.close(),u()},c=function(n){return function(r){o[n]=r,0===n&&t.value(e(o[0],o[1]))}},s=r.subscribe(c(0),i,a),l=n.subscribe(c(1),i,a);return u})}},{key:"take",value:function(n){var e=this,r=0;return new t(function(t){var o=e.subscribe(function(u){r++,r<=n&&t.value(u),r>=n&&(e.unobserve(o),t.close())},t.error,t.close);return function(){return e.unobserve(o)}})}},{key:"flatMap",value:function(n){return t.unpack(this.map(n))}},{key:"distinct",value:function(){var n=this;return new t(function(t){var e=void 0,r=n.subscribe(function(n){n!==e&&t.value(n),e=n},t.error,t.close);return function(){return n.unobserve(r)}})}},{key:"delay",value:function(n){var e=this;return new t(function(t){var r=function(t){return function(e){return setTimeout(function(){return t(e)},n)}},o=e.subscribe(r(t.value),r(t.error),r(t.close));return function(){return e.unobserve(o)}})}},{key:"takeUntil",value:function(n){var e=this;return new t(function(t){var r=e.subscribe(t.value,t.error,t.close),o=n.subscribe(function(n){t.close(),u()},t.error),u=function(){e.unobserve(r),e.unobserve(o)}})}},{key:"takeWhile",value:function(n){var e=this;return new t(function(t){var r=e.subscribe(function(e){n(e)?t.value(e):(t.close(),o())},t.error,t.close),o=function(){e.unobserve(r)}})}},{key:"sampleOn",value:function(n,t){return this.fold(function(n,t){return t},t).sampleOn(n)}}]),t}(k);t.Stream=P;var j=function(n){function t(){u(this,t),h(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(){})}return o(t,n),d(t,[{key:"push",value:function(n){this.observers.length>0&&this.sink.value(n)}},{key:"close",value:function(){this.sink.close()}},{key:"pipe",value:function(n){n.subscribe(this.sink.value,this.sink.error)}}]),t}(P);t.Bus=j;var M=function(n){function t(n){u(this,t),h(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,n,function(){})}return o(t,n),d(t,[{key:"set",value:function(n){this.observers.length>0&&this.sink.value(n)}},{key:"close",value:function(){this.sink.close()}}]),t}(E);t.Property=M,P.interval=function(n){return new P(function(t){var e=setInterval(function(){return t.value("undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now())},n);return function(){return clearInterval(e)}})},P.tick=function(n){return new P(function(t){var e=0,r=setInterval(function(){return t.value(e++)},n);return function(){return clearInterval(r)}})},P.unpack=function(n){return new P(function(t){var e=n.subscribe(function(n){return n.forEach(function(n){return t.value(n)})},t.error,t.close);return function(){return n.unobserve(e)}})},P.mergeAll=function(n){if(0===n.length)throw new Error("Stream.mergeAll() called with an empty array, and that makes no sense.");return 1===n.length?n[0]:n.reduce(function(n,t){return n.merge(t)})},P.concatAll=function(n){if(0===n.length)throw new Error("Stream.concatAll() called with an empty array, and that makes no sense.");return 1===n.length?n[0]:n.reduce(function(n,t){return n.concat(t)})},P.repeat=function(n){return new P(function(t){var e=null,r=null;return function o(){e=n(),r=e.subscribe(t.value,t.error,o)}(),function(){return e.unobserve(r)}})},P.repeatFinite=function(n,t){return new P(function(e){var r=null,o=null;return function t(u,i){r=n();var a=function(){return t(u,i+1)};u===i+1&&(a=e.close),o=r.subscribe(e.value,e.error,a)}(t,0),function(){return r.unobserve(o)}})},P.of=function(n){return new P(function(t){(0,m.default)(function(){n.forEach(function(n){return t.value(n)}),t.close()})})},P.unit=function(n){return P.of([n])},P.wait=function(n){return new P(function(t){setTimeout(function(){return t.close()},n)})}},function(n,t,e){"use strict";function r(n,t){return{node:n,children:t}}function o(n,t){var e=n(t.node),u=t.children.map(o.bind(null,n)),i=t.node!==e,a=!d.compareLists(t.children,u);return a||(u=t.children),i||a?r(e,u):t}function u(n,t,e){return o(function(e){return n(e)?t(e):e},e)}function i(n,t){if(n(t.node))return t;for(var e=0,r=void 0,o=t.children.length;e<o;e++)if(null!==(r=i(n,t.children[e])))return r;return null}function a(n,t){function e(t,r){return n(r.node)?t.concat([r.node]):d.flatMap(e.bind(null,t.concat([r.node])),r.children)}return e([],t)}function c(n,t){return t.children.reduce(function(t,e){return t.concat(c(n,e))},[n(t.node)])}function s(n,t){if(n(t.node))return null;var e=d.notNull(t.children.map(s.bind(null,n)));return d.compareLists(t.children,e)?t:r(t.node,e)}function l(n,t,e){if(n(e.node))return r(e.node,e.children.concat([t]));var o=e.children.map(l.bind(null,n,t));return d.compareLists(e.children,o)?e:r(e.node,o)}function f(n,t,e){if(!n(t.node,e.node))return!1;if(t.children.length!==e.children.length)return!1;if(t.children.length)for(var r=0,o=t.children.length;r<o;r++)if(!f(n,t.children[r],e.children[r]))return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.tree=r,t.updateAll=o,t.update=u,t.find=i,t.parents=a,t.flatMap=c,t.remove=s,t.insert=l,t.equals=f;var v=e(4),d=function(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}(v)},function(n,t,e){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),u=e(11),i=function(n){return n&&n.__esModule?n:{default:n}}(u),a=function(){function n(t){var e=this;r(this,n),this.onResolve=[],this.onReject=[],this.resolved=!1,this.failed=!1,this.resolve=function(n){if(!0===e.resolved)throw new Error("tried to resolve an already resolved promise");e.resolved=!0,e.failed=!1,e.value=n,e.onResolve.forEach(function(t){return(0,i.default)(function(){return t(n)})}),e.onResolve=[],e.onReject=[]},this.reject=function(n){if(!0===e.resolved)throw new Error("tried to resolve an already resolved promise");e.resolved=!0,e.failed=!0,e.error=n,e.onReject.forEach(function(t){return(0,i.default)(function(){return t(n)})}),e.onResolve=[],e.onReject=[]},null!=t&&(0,i.default)(function(){return t&&t(e.resolve,e.reject)})}return o(n,[{key:"callback",value:function(){var n=this;return function(t,e){null!=t?n.reject(t):null!=e&&n.resolve(e)}}},{key:"then",value:function(t,e){var r=this;return new n(function(o,u){function i(e){var r=t(e);r instanceof n?r.then(function(n){return o(n)},function(n){return u(n)}):null!=r&&o(r)}function a(n){null!=e&&e(n),u(n)}r.resolved?r.failed?a(r.error):i(r.value):(r.onResolve.push(i),r.onReject.push(a))})}}]),n}();t.default=a,a.resolved=function(n){return new a(function(t,e){return t(n)})},a.rejected=function(n){return new a(function(t,e){return e(n)})},a.sequence=function(n){return new a(function(t,e){var r=new Array(n.length),o=0,u=!1;n.forEach(function(i,a){i.then(function(e){u||(r[a]=e,(o+=1)===n.length&&t(r))},function(n){u=!0,e(n)})})})},n.exports=t.default},function(n,t,e){"use strict";var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(n){"object"===("undefined"==typeof window?"undefined":o(window))&&(r=window)}n.exports=r},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e(3);Object.keys(r).forEach(function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(t,n,{enumerable:!0,get:function(){return r[n]}})})},function(n,t,e){"use strict";function r(){if(c.length)throw c.shift()}function o(n){var t;t=a.length?a.pop():new u,t.task=n,i(t)}function u(){this.task=null}var i=e(51),a=[],c=[],s=i.makeRequestCallFromTimer(r);n.exports=o,u.prototype.call=function(){try{this.task.call()}catch(n){o.onerror?o.onerror(n):(c.push(n),s())}finally{this.task=null,a[a.length]=this}}},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e(50),o=function(n){return n&&n.__esModule?n:{default:n}}(r);t.default=o.default},function(n,t,e){"use strict";function r(n,t,e,r,o,u,i,a,c,s){return{a:n,b:t,c:e,p:r,q:o,r:u,u:i,v:a,w:c,o:s}}function o(n,t){return r(1,0,n,0,1,t,0,0,1,1)}function u(n){return r(1,0,n.x,0,1,n.y,0,0,1,1)}function i(n){var t=Math.cos(n),e=Math.sin(n);return r(t,-e,0,e,t,0,0,0,1,1)}function a(n,t,e){var o=Math.cos(e),u=Math.sin(e),i=-u;return r(o,i,n-o*n-i*t,u,o,t-u*n-o*t,0,0,1,1)}function c(n,t){var e=Math.cos(t),o=Math.sin(t),u=-o;return r(e,u,n.x-e*n.x-u*n.y,o,e,n.y-o*n.x-e*n.y,0,0,1,1)}function s(n,t){return r(n,0,0,0,t,0,0,0,1,1)}function l(n){return r(n.x,0,0,0,n.y,0,0,0,1,1)}function f(n,t,e,r){return p([o(n,t),s(e,r),o(-n,-t)])}function v(n,t){return p([u(n),l(t),o(-n.x,-n.y)])}function d(n){return r(1,0,0,0,1,0,0,0,1,n)}function h(n,t){return r(n.a*t.a+n.b*t.p+n.c*t.u,n.a*t.b+n.b*t.q+n.c*t.v,n.a*t.c+n.b*t.r+n.c*t.w,n.p*t.a+n.q*t.p+n.r*t.u,n.p*t.b+n.q*t.q+n.r*t.v,n.p*t.c+n.q*t.r+n.r*t.w,n.u*t.a+n.v*t.p+n.w*t.u,n.u*t.b+n.v*t.q+n.w*t.v,n.u*t.c+n.v*t.r+n.w*t.w,n.o*t.o)}function p(n){return n.reduce(h,k)}function y(n){return n.a*(n.q*n.w-n.r*n.v)-n.b*(n.w*n.p-n.r*n.u)+n.c*(n.p*n.v-n.q*n.u)}function b(n,t){return r(n*t.a,n*t.b,n*t.c,n*t.p,n*t.q,n*t.r,n*t.u,n*t.v,n*t.w,t.o)}function m(n){return b(1/y(n),r(n.q*n.w-n.r*n.v,0-(n.b*n.w-n.c*n.v),n.b*n.r-n.c*n.q,0-(n.p*n.w-n.r*n.u),n.a*n.w-n.c*n.u,0-(n.a*n.r-n.c*n.p),n.p*n.v-n.q*n.u,0-(n.a*n.v-n.b*n.u),n.a*n.q-n.b*n.p,1/n.o))}function w(n,t){return{x:n.a*t.x+n.b*t.y+n.c,y:n.p*t.x+n.q*t.y+n.r}}function g(n){return n*(Math.PI/180)}function O(n){return p([u(n.translate),c(n.rotate.anchor,g(n.rotate.value)),v(n.scale.anchor,n.scale.value),d(n.opacity)])}function _(n){var t=n.a,e=n.b,r=n.p,o=n.q,u=n.c,i=n.r,a=Math.sqrt(t*t+e*e),c=Math.sqrt(r*r+o*o);t*o-e*r<0&&(t<o?a*=-1:c*=-1),a&&(t*=1/a,e*=1/a),c&&(r*=1/c,o*=1/c);var s=-Math.atan2(e,t),l=t,f=e,v=r,d=o,h=void 0,p=void 0;return s&&(h=-e,p=t,l=t,f=e,v=r,d=o,t=p*l+h*v,e=p*f+h*d,r=-h*l+p*v,o=-h*f+p*d),{translateX:u,translateY:i,scaleX:a,scaleY:c,angle:s,opacity:n.o}}Object.defineProperty(t,"__esModule",{value:!0}),t.transform=r,t.translate=o,t.translatePoint=u,t.rotate=i,t.rotateAround=a,t.rotateAroundPoint=c,t.scale=s,t.scalePoint=l,t.scaleAround=f,t.scaleAroundPoint=v,t.opacity=d,t.compose=h,t.composeAll=p,t.mulN=b,t.inverse=m,t.transformPoint=w,t.fromTransform=O,t.decompose=_;var x=e(3),k=(function(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);t.default=n}(x),r(1,0,0,0,1,0,0,0,1,1));t.reset=k},function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function o(n,t,e){return n.push(new b.InsertEvent(t,e)),!0}function u(n,t){return n.push(new b.RemoveEvent(t)),!0}function i(n,t,e,r){return n.push(new b.UpdateEvent(t,null,e,!!r)),!0}function a(n,t){return n.pipe(t),t}function c(n,t,e){if(n.animations){var r=n.animations[t];if(r){var o=_.stream(r,n);return a(n.events,e?e(o()):o())}}return k.default.rejected("animation not found!")}function s(n,t,e){return n.push(new b.UpdateEvent(t,e,null)),!0}function l(n,t,e){return n.push(new b.StateEvent(t,e)),!0}function f(n,t,e,r){return n.push(new b.ComponentEvent(t,e,r)),!0}function v(n,t,e){return n.push(new b.TrackEvent(t,e)),!0}function d(n,t){return n.push(new b.StateEvent("cancel:"+t,null)),!0}function h(n,t){return n.push(new b.AssetEvent(t,"play")),!0}function p(n,t){return n.push(new b.AssetEvent(t,"pause")),!0}Object.defineProperty(t,"__esModule",{value:!0}),t.insert=o,t.remove=u,t.transform=i,t.stream=a,t.animation=c,t.asset=s,t.state=l,t.component=f,t.track=v,t.cancel=d,t.play=h,t.pause=p;var y=e(0),b=r(y),m=e(6),w=(r(m),e(1)),g=(r(w),e(2)),O=(r(g),e(19)),_=r(O),x=e(8),k=function(n){return n&&n.__esModule?n:{default:n}}(x)},function(n,t,e){"use strict";function r(n){var t=null,e=void 0;return function(r){if(r===t)return e;var o=n(r);return t=r,e=o,o}}function o(n){var t=null,e=null,r=void 0;return function(o,u){if(o===t&&u===u)return r;var i=n(o,u);return t=o,e=u,r=i,i}}function u(n){var t=null,e=null,r=null,o=void 0;return function(u,i,a){if(u===t&&i===e&&a===r)return o;var c=n(u,i,a);return t=u,e=i,r=a,o=c,c}}Object.defineProperty(t,"__esModule",{value:!0}),t.memo1=r,t.memo2=o,t.memo3=u},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={Linear:{None:function(n){return n}},Quadratic:{In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return n*=2,n<1?.5*n*n:-.5*(--n*(n-2)-1)}},Sinusoidal:{In:function(n){return 1-Math.cos(n*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return.5*(1-Math.cos(Math.PI*n))}},Exponential:{In:function(n){return 0===n?0:Math.pow(1024,n-1)},Out:function(n){return 1===n?1:1-Math.pow(2,-10*n)},InOut:function(n){return 0===n?0:1===n?1:(n*=2,n<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1))))}},Elastic:{In:function(n){var t=void 0,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4))},Out:function(n){var t=void 0,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*n)*Math.sin((n-t)*(2*Math.PI)/.4)+1)},InOut:function(n){var t=void 0,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),n*=2,n<1?e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*-.5:e*Math.pow(2,-10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*.5+1)}},Bounce:{In:function(n){return 1-r.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?.5*r.Bounce.In(2*n):.5*r.Bounce.Out(2*n-1)+.5}}};t.default=r},function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function o(n,t,e,r,o){var u=null,i=!1;return n.map(function(n){if(i)return null;u||(u=n);var c=(n-u)/r;if(c<=0)return t;if(c>1)return i=!0,e;var l=o(c),v=function(n,t){return n+(t-n)*l},d=function(n,t){return a.point(v(n.x,t.x),v(n.y,t.y))};return f.transform(d(t.translate,e.translate),s.anchored(e.rotate.anchor,v(t.rotate.value,e.rotate.value)),s.anchored(e.scale.anchor,d(t.scale.value,e.scale.value)),v(t.opacity,e.opacity))}).takeWhile(function(n){return n})}Object.defineProperty(t,"__esModule",{value:!0}),t.tween=o;var u=e(6),i=(r(u),e(3)),a=r(i),c=e(22),s=r(c),l=e(2),f=r(l)},function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function o(n){var t=0,e=0;return n.pageX||n.pageY?(t=n.pageX,e=n.pageY):(n.clientX||n.clientY)&&(t=n.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e=n.clientY+document.body.scrollTop+document.documentElement.scrollTop),b.point(t,e)}function u(n){return p.stream(function(t){var e=function(e){return e.target===n&&t.value(o(e))};return window.addEventListener("mousedown",e),function(){return window.removeEventListener("mousedown",e)}})}function i(n){return p.stream(function(t){var e=function(e){e.target===n&&(e.preventDefault(),t.value(o(e.touches[0])))};return n.addEventListener("touchstart",e),function(){return window.removeEventListener("touchstart",e)}})}function a(n,t,e){return t.map(function(t){for(var r=0,o=0,u=n;u.offsetParent;)r+=u.offsetLeft,o+=u.offsetTop,u=u.offsetParent;return b.point((t.x-r)*e,(t.y-o)*e)})}function c(n,t){return t.map(function(t){return O.transformPoint(n,t)})}function s(n){return n.map(function(n){return new w.MoveEvent(n)})}function f(n,t){return t.map(function(t){return new w.ClickEvent(t,n)})}function v(n,t,e){var r=O.inverse(t);return p.Stream.mergeAll([f(!0,c(r,a(n,u(n),e))),f(!1,c(r,a(n,_,e))),s(c(r,a(n,x,e))),f(!0,c(r,a(n,i(n),e))),f(!1,c(r,a(n,k,e))),s(c(r,a(n,E,e))),P,j])}function d(n){var t=function t(e){n(e),window.removeEventListener("mousedown",t),window.removeEventListener("touchstart",t)};window.addEventListener("mousedown",t),window.addEventListener("touchstart",t)}Object.defineProperty(t,"__esModule",{value:!0}),t.acceleration=t.orientation=t.touchMove=t.touchEnd=t.mouseMove=t.mouseUp=void 0,t.extractCoords=o,t.mouseDown=u,t.touchStart=i,t.relativeTo=a,t.transform=c,t.toMoveEvent=s,t.toClickEvent=f,t.eventsFor=v,t.nextInteraction=d;var h=e(6),p=r(h),y=e(3),b=r(y),m=e(0),w=r(m),g=e(13),O=r(g),_=t.mouseUp=p.stream(function(n){var t=function(t){return n.value(o(t))};return window.addEventListener("mouseup",t),function(){return window.removeEventListener("mouseup",t)}}),x=t.mouseMove=p.stream(function(n){var t=function(t){return n.value(o(t))};return window.addEventListener("mousemove",t),function(){return window.removeEventListener("mousemove",t)}}),k=t.touchEnd=p.stream(function(n){var t=function(t){n.value(o(t.changedTouches[0]))};return window.addEventListener("touchend",t),function(){return window.removeEventListener("touchend",t)}}),E=t.touchMove=p.stream(function(n){var t=function(t){n.value(o(t.touches[0]))};return window.addEventListener("touchmove",t),function(){return window.removeEventListener("touchmove",t)}}),P=t.orientation=p.stream(function(n){var t=function(t){var e=t.alpha,r=t.beta,o=t.gamma;return n.value(new w.OrientationEvent({yaw:e,pitch:r,roll:o}))};return window.addEventListener("deviceorientation",t),function(){return window.removeEventListener("deviceorientation",t)}}),j=t.acceleration=p.stream(function(n){var t=function(t){var e=t.acceleration;return n.value(new w.AccelerationEvent({x:e.x,y:e.y,z:e.z}))};return window.addEventListener("devicemotion",t),function(){return window.removeEventListener("devicemotion",l)}})},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.stream=t.gravity=t.tween=t.animate=void 0;var o=e(33),u=r(o),i=e(36),a=r(i),c=e(34),s=r(c),l=e(35),f=r(l);t.animate=u.default,t.tween=a.default,t.gravity=s.default,t.stream=f.default},function(n,t,e){"use strict";function r(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t,e,r,o){return e=e||1,r=r||0,o=o||0,new b.default(function(u,i){var a={};window&&window.callPhantom&&"function"==typeof window.callPhantom&&"data:"!==t.slice(0,5)&&(t=t.split("/").pop());var c=document.createElement("img");if(c.onload=function(){if(a[n]=new g({el:c,drawX:r,drawY:o}),a[n].loading=!1,m[n]=new g({el:c,drawX:r,drawY:o}),m[n].loading=!1,1===e)return u(a)},c.onerror=function(){return i(new Error("Failed to load asset '"+n+"': "+t))},a[n]={loading:!0},c.setAttribute("src",t),e>1)return u(a)})}function a(n,t,e,r){return new b.default(function(o,u){var i={};return i[n]=new _({colour:t,width:e,height:r}),o(i)})}function c(n,t,e,r){return new b.default(function(o,u){var i={};return i[n]=new O({id:n,urls:t,width:e,height:r}),o(i)})}function s(n,t,e,r){return new b.default(function(o,u){var i={};return i[n]=new x({text:t,colour:e,font:r}),o(i)})}function l(n){return b.default.sequence(Object.keys(n).sort(function(t,e){return n[t].priority-n[e].priority}).map(function(t){var e=n[t].type;return"image"===e?i(t,n[t].url,n[t].priority,n[t].drawX,n[t].drawY):"block"===e?a(t,n[t].colour,n[t].width,n[t].height):"video"===e?c(t,n[t].urls,n[t].width,n[t].height):"text"===e?s(t,n[t].text,n[t].colour,n[t].font):void 0})).then(function(n){return m=n.reduce(p.assoc,m)})}function f(n){return p.values(n).filter(function(n){return n instanceof O})}function v(n){f(n).forEach(function(n){return n.load()})}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}();t.loadAssets=l,t.getVideoAssets=f,t.initVideoAssets=v;var h=e(4),p=function(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}(h),y=e(8),b=function(n){return n&&n.__esModule?n:{default:n}}(y),m={test:"OHAI"},w=function(){function n(t){u(this,n)}return d(n,[{key:"draw",value:function(n,t){}}]),n}(),g=function(n){function t(n){u(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return e.element=n.el,e.drawX=n.drawX,e.drawY=n.drawY,e}return o(t,n),d(t,[{key:"draw",value:function(n,t,e){n.drawImage(this.element,this.drawX,this.drawY)}}]),t}(w),O=function(n){function t(n){u(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return e.fps=30,e.id=n.id,e.width=n.width,e.height=n.height,e.urls=n.urls,e.isIOS=e._isIOS(),e._playing=!1,e._drawInterval=1e3/e.fps,e._lastRenderTime=Date.now(),e._lastVideoCurrentTime=0,e._audioSyncIntevel=.3,e._timeUpdateInterval=5,e._lastTimeEvtFiredTime=0,e._videoSeeking=!1,e._createPlayer(),e._createCanvas(),e}return o(t,n),d(t,[{key:"draw",value:function(n,t,e){var r=Date.now(),o=r-this._lastRenderTime;if(this._playing&&o>=this._drawInterval){if(this.isIOS&&this.audio){var u=this.video,i=u.currentTime,a=u.duration,c=u.seekable;this._lastVideoCurrentTime=i;var s=r+this._drawInterval+o%this._drawInterval,l=i+(s-r)/1e3;l>a?(this.video.currentTime=a,this.audio.currentTime=a):this._videoSeeking||this._isSeekable(l,c)&&(this.video.currentTime=l,this._videoSeeking=!0)}else this._ctx.drawImage(this.video,0,0,this.width,this.height);this._lastRenderTime=r}n.drawImage(this._canvas,0,0,e.size.x,e.size.y)}},{key:"load",value:function(){this._playing||(this.video.load(),this.isIOS&&this.audio&&this.audio.load(),this._ctx.drawImage(this.video,0,0,this.width,this.height))}},{key:"play",value:function(){this._playing||(this.player.play(),this._playing=!0)}},{key:"pause",value:function(){this._playing&&(this.player.pause(),this._playing=!1)}},{key:"_isSeekable",value:function(n,t){for(var e=0,r=t.length;e<r;e++)if(n>t.start(e)&&n<t.end(e))return!0;return!1}},{key:"_mapEvtCallback",value:function(n){var t=this;-1!==["onplay","onended","onerror"].indexOf(n)?this.player[n]=function(){"onended"===n&&(t._playing=!1),"function"==typeof t[n]&&t[n](n)}:"ontimeupdate"===n?this.player[n]=function(){if(document.hidden)return void(t.player.muted=!0);t.player.muted=!1;var e=t.player.currentTime;Math.abs(e-t._lastTimeEvtFiredTime)>=t._timeUpdateInterval&&(t._lastTimeEvtFiredTime=e,"function"==typeof t[n]&&t[n](n,Math.floor(e))),t.isIOS&&t.audio&&Math.abs(e-t._lastVideoCurrentTime)>=t._audioSyncIntevel&&(t.audio.currentTime=t._lastVideoCurrentTime)}:this.isIOS&&"onseeked"===n&&(this.video.onseeked=function(){t._videoSeeking=!1,t._ctx.drawImage(t.video,0,0,t.width,t.height)})}},{key:"_createPlayer",value:function(){var n=this,t=this.urls.map(function(n){var t=n.split(".");return t=t.length>1?"video/"+t[t.length-1]:"",'<source src="'+n+'" type="'+t+'">'}).join("");this.video=document.createElement("video"),this.video.width=this.width,this.video.height=this.height,this.video.innerHTML=t,this.video.style.display="none",document.body.appendChild(this.video),this.isIOS&&(this.audio=document.createElement("audio"),this.audio.innerHTML=t,this.audio.style.display="none",document.body.appendChild(this.audio)),this.player=this.isIOS?this.audio:this.video,["onplay","onended","onerror","ontimeupdate","onseeked"].forEach(function(t){return n._mapEvtCallback(t)})}},{key:"_createCanvas",value:function(n){this._canvas=document.createElement("canvas"),this._canvas.width=this.width,this._canvas.height=this.height,this._ctx=this._canvas.getContext("2d")}},{key:"_isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent||navigator.vendor||window.opera)&&!window.MSStream}}]),t}(w),_=function(n){function t(n){u(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return e.colour=n.colour,e.width=n.width,e.height=n.height,e}return o(t,n),d(t,[{key:"draw",value:function(n,t){n.fillStyle=this.colour,n.globalAlpha=t.o,n.fillRect(0,0,this.width,this.height)}}]),t}(w),x=function(n){function t(n){u(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return e.text=n.text,e.colour=n.colour,e.font=n.font,e}return o(t,n),d(t,[{key:"draw",value:function(n,t,e){n.font=this.font,n.textBaseline="top",n.fillStyle=this.colour,n.fillText(this.text,0,0,e.size.x)}}]),t}(w)},function(n,t,e){"use strict"},function(n,t,e){"use strict";function r(n,t){return{anchor:n,value:t}}function o(n){return{anchor:c.point(0,0),value:n}}function u(n){return function(t){return{anchor:t.anchor,value:n(t.value)}}}function i(n){return function(t,e){return{anchor:c.addPoints(t.anchor,e.anchor),value:n(t.value,e.value)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.anchored=r,t.unit=o,t.lift=u,t.lift2=i;var a=e(3),c=function(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}(a)},function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function o(n,t,e,r){if(4!==arguments.length)throw new Error("Invoked transform() with "+arguments.length+" arguments, was expecting 4. Did you mean translate()?");return{translate:n,rotate:t,scale:e,opacity:r}}function u(n,t){return o(E(n,t),P(0),P(E(1,1)),1)}function i(n){return o(n,P(0),P(E(1,1)),1)}function a(n){return o(E(0,0),P(n),P(E(1,1)),1)}function c(n,t,e){return o(E(0,0),j(E(n,t),e),P(E(1,1)),1)}function s(n,t){return o(E(0,0),j(n,t),P(E(1,1)),1)}function l(n,t){var e={x:n,y:t};return 0===n&&(e.x=.001),0===t&&(e.y=.001),e}function f(n,t){var e=l(n,t);return o(E(0,0),P(0),P(E(e.x,e.y)),1)}function v(n){var t=l(n.x,n.y);return o(E(0,0),P(0),P(E(t.x,t.y)),1)}function d(n,t,e,r){var u=l(e,r);return o(E(0,0),P(0),j(E(n,t),E(u.x,u.y)),1)}function h(n,t){var e=l(t.x,t.y);return o(E(0,0),P(0),j(n,E(e.x,e.y)),1)}function p(n){return o(E(0,0),P(0),P(E(1,1)),n)}function y(n,t){return o(O.addPoints(n.translate,t.translate),x.lift2(function(n,t){return n+t})(n.rotate,t.rotate),x.lift2(O.mulPoints)(n.scale,t.scale),n.opacity*t.opacity)}function b(n){return n.reduce(y,M)}function m(n,t){return Math.round(n)===Math.round(t)}function w(n,t){return m(n.translate.x,t.translate.x)&&m(n.translate.y,t.translate.y)&&m(n.rotate.anchor.x,t.rotate.anchor.x)&&m(n.rotate.anchor.y,t.rotate.anchor.y)&&m(n.rotate.value,t.rotate.value)&&m(n.scale.anchor.x,t.scale.anchor.x)&&m(n.scale.anchor.y,t.scale.anchor.y)&&m(n.scale.value.x,t.scale.value.x)&&m(n.scale.value.y,t.scale.value.y)&&m(n.opacity,t.opacity)}Object.defineProperty(t,"__esModule",{value:!0}),t.transform=o,t.translate=u,t.translatePoint=i,t.rotate=a,t.rotateAround=c,t.rotateAroundPoint=s,t.scale=f,t.scalePoint=v,t.scaleAround=d,t.scaleAroundPoint=h,t.opacity=p,t.compose=y,t.composeAll=b,t.equals=w;var g=e(3),O=r(g),_=e(22),x=r(_),k=e(23),E=(r(k),O.point),P=x.unit,j=x.anchored,M=o(E(0,0),P(0),P(E(1,1)),1);t.reset=M},function(n,t,e){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),u=e(11),i=function(n){return n&&n.__esModule?n:{default:n}}(u),a=function(){function n(t){var e=this;r(this,n),this.onResolve=[],this.onReject=[],this.resolved=!1,this.failed=!1,this.resolve=function(n){if(!0===e.resolved)throw new Error("tried to resolve an already resolved promise");e.resolved=!0,e.failed=!1,e.value=n,e.onResolve.forEach(function(t){return(0,i.default)(function(){return t(n)})}),e.onResolve=[],e.onReject=[]},this.reject=function(n){if(!0===e.resolved)throw new Error("tried to resolve an already resolved promise");e.resolved=!0,e.failed=!0,e.error=n,e.onReject.forEach(function(t){return(0,i.default)(function(){return t(n)})}),e.onResolve=[],e.onReject=[]},null!=t&&(0,i.default)(function(){return t&&t(e.resolve,e.reject)})}return o(n,[{key:"callback",value:function(){var n=this;return function(t,e){null!=t?n.reject(t):null!=e&&n.resolve(e)}}},{key:"then",value:function(t,e){var r=this;return new n(function(o,u){function i(e){var r=t(e);r instanceof n?r.then(function(n){return o(n)},function(n){return u(n)}):null!=r&&o(r)}function a(n){null!=e&&e(n),u(n)}r.resolved?r.failed?a(r.error):i(r.value):(r.onResolve.push(i),r.onReject.push(a))})}}]),n}();t.default=a,a.resolved=function(n){return new a(function(t,e){return t(n)})},a.rejected=function(n){return new a(function(t,e){return e(n)})},a.sequence=function(n){return new a(function(t,e){var r=new Array(n.length),o=0,u=!1;n.forEach(function(i,a){i.then(function(e){u||(r[a]=e,(o+=1)===n.length&&t(r))},function(n){u=!0,e(n)})})})},n.exports=t.default},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}function o(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function u(){if(p.supported())return p;throw new Error("Cyan: No renderers available for this platform.")}function i(){try{return u(),!0}catch(n){return!1}}function a(n){var t=u(),e=n.targetElement,r=n.canvasSize,o=n.targetSize,i=n.fsm,a=n.initialState,c=n.spec;if(!o){var s=e.clientWidth,f=e.clientHeight;o=l.point(s,f)}r||(r=Object.assign({},c.scene.node.size));var v=c.systems,d=c.fonts,h=c.assets,p=c.scene,y=c.animations;return t.createContext(r,o,h,d).then(function(n){var t=n.element,r=n.physical,o=(n.canvas,n.events),u=n.assetCache,c=n.render;e.appendChild(t);var s=new m.Bus;s.pipe(o),M.nextInteraction(function(){return S.initVideoAssets(u)}),window&&window.callPhantom&&"function"==typeof window.callPhantom&&(n.render(p),window.callPhantom({msg:"rendered",size:r}));var l=P.run(p,s,v,i,a,u,y);return l.sampleOn(g.animationFrame(),p).subscribe(c),{context:n,scene:l,events:s,stateEvents:s.filter(function(n){return n instanceof x.StateEvent}),trackEvents:s.filter(function(n){return n instanceof x.TrackEvent})}})}Object.defineProperty(t,"__esModule",{value:!0}),t.supported=i,t.init=a;var c=e(4),s=(o(c),e(3)),l=o(s),f=e(5),v=(o(f),e(12)),d=(r(v),e(21)),h=(o(d),e(37)),p=o(h),y=e(8),b=(r(y),e(6)),m=o(b),w=e(48),g=o(w),O=e(1),_=(o(O),e(0)),x=o(_),k=e(14),E=(o(k),e(30)),P=o(E),j=e(18),M=o(j),A=e(20),S=o(A)},function(n,t,e){n.exports=e.p+"8d8569e04440615ee90f528872a765a1.jpg"},function(n,t){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtgAAABaAQMAAAC4+rO8AAAABlBMVEVHcEwAAACfKoRRAAAAAXRSTlMAQObYZgAAAD9JREFUaN7t2TEBADAMw7CMeZl3TynkkwGIgLO9Mmn12Gw2m81ms9lsNpvNZrPZbDabzWaz2Ww2m81mn118/x+K/+GjwdzkkQAAAABJRU5ErkJggg=="},function(n,t){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALAAAAAyCAMAAADLEaG/AAAAkFBMVEVHcEz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/Ylz/////sa7/iYX/2Nf/9vX/gHv/dnD/xcL/bGb/nZn/7Ov/4uH/p6T/u7j/zs3/k488BmFTAAAAH3RSTlMA31VUA4msBlvb+eDj5FyKq6b6U9n4B/NSlFbXUfKTSjBPugAAAsRJREFUaN7tmlmTmzAMgMmxSTZpu0eP7W3ZBmPu///vVpZsMLvTp5KZeAY9JGD5+CQkmRmTZU6OP582Z3HD8vLraXvMRvl9LxKQ++8ed38nEpG7PQEnw4vEjncnEpId5tuHlIA/HrOTSEo+ZY9pAR+yS1rAl+xrWsDnTCQmK/AKvAKvwLcGXBTXB5YAkOuKlgOSnhUGoJi6QFPOYHoA4y9LyHlASaO5WbshvXKXLU/bLgjsp1MzYFSUsy4go2F6vLWoIXNzgLpG64sADGyyXBpYup+agHWkwPVzO3UxHUA1A64nc9x/Aw3iFQ23a2yzPZksZ5YuAyxozRlwBaX2hH7FNhjAQLnX1gw8+Agy3K6nCa8BXL33sAZVQRMDow9VpO649wAlAZfQsaajmNLcdhUPl22f02oKGoViOOVqFxVFDNxFcYj21JR2eEHA4XHgLDU3SwybgVdw09pFk64TU9JJhpPup4yBY1chUOu0Bp+CB1ZjdRmTbohyVi0GrGXNYOgbieK8anPnPsNR+w9g67QdOnYOrCiQNMjOR7lbAcUuGMOGi2oUwxXWZhQuDAG0n4cEhmhlc4T2MSzDUO1juOWCcY2k4+yIgBtfeslbfsVi2isYuIC6cgMJuPUZ6nwbkq72Mbw8cEHPfgIufJG1lHa8IiaZnBURZxbpCdhy4mLn3ARgebWyxm7xMdw6j7dh2y05CDv0uRZvgCt+ArxxYG41bdv7pCVgC2wvxbBaFJgKsa8S4Lxlg6vzkOZNJd4CC04rBhZVHm3BBBzsfbex/w+w4bqrcH2rWPBufNFxd2asztF7GdVV/lWhoA1SDiboKaTcRIZnNev78Aq8Aq/AK/DNA/9Ji/ecfUkL+JLekUFyhzKJHXt9y7JtSsBbdxT6kA7vAx+O/02F98fen+d/TuPzg930wcTxdNg83zLs8+Zw4g88XgFnoCnncgSwggAAAABJRU5ErkJggg=="},function(n,t){n.exports={systems:{click:{id:"click",nodeIds:["border"],data:{url:!1}}},fonts:{},assets:{cta:{type:"image",url:"../assets/cta.png"},border:{type:"image",url:"../assets/border.png"},bg:{type:"image",url:"../assets/bg.jpg"}},scene:{node:{id:"root",size:{x:728,y:90},asset:null,transform:{translate:{x:0,y:0},scale:{anchor:{x:364,y:45}},rotate:{anchor:{x:364,y:45}},opacity:1}},children:[{node:{id:"bg",size:{x:728,y:90},asset:"bg",transform:{translate:{x:0,y:0},scale:{anchor:{x:364,y:45}},rotate:{anchor:{x:364,y:45}},opacity:1}},children:[]},{node:{id:"border",size:{x:728,y:90},asset:"border",transform:{translate:{x:0,y:0},scale:{anchor:{x:364,y:45}},rotate:{anchor:{x:364,y:45}},opacity:1}},children:[]},{node:{id:"cta",size:{x:176,y:50},asset:"cta",transform:{translate:{x:517,y:21},scale:{anchor:{x:88,y:25},value:{x:1,y:1}},rotate:{anchor:{x:88,y:25}},opacity:1}},children:[]}]},animations:{start:{repeat:{nodeId:"cta",from:{translate:{x:517,y:21},scale:{value:{x:1,y:1},anchor:{x:88,y:25}},rotate:{value:0,anchor:{x:88,y:25}},opacity:1},to:{translate:{x:517,y:21},scale:{value:{x:1.05,y:1.05},anchor:{x:88,y:25}},rotate:{value:0,anchor:{x:88,y:25}},opacity:1},duration:120,next:{wait:40,next:{nodeId:"cta",from:{translate:{x:517,y:21},scale:{value:{x:1.02,y:1.02},anchor:{x:88,y:25}},rotate:{value:0,anchor:{x:88,y:25}},opacity:1},to:{translate:{x:517,y:21},scale:{value:{x:.95,y:.95},anchor:{x:88,y:25}},rotate:{value:0,anchor:{x:88,y:25}},opacity:1},duration:80,next:{wait:40,next:{nodeId:"cta",from:{translate:{x:517,y:21},scale:{value:{x:.98,y:.98},anchor:{x:88,y:25}},rotate:{value:0,anchor:{x:88,y:25}},opacity:1},to:{translate:{x:517,y:21},scale:{value:{x:1.03,y:1.03},anchor:{x:88,y:25}},rotate:{value:0,anchor:{x:88,y:25}},opacity:1},duration:80,next:{wait:40,next:{nodeId:"cta",from:{translate:{x:517,y:21},scale:{value:{x:1.02,y:1.02},anchor:{x:88,y:25}},rotate:{value:0,anchor:{x:88,y:25}},opacity:1},to:{translate:{x:517,y:21},scale:{value:{x:1,y:1},anchor:{x:88,y:25}},rotate:{value:0,anchor:{x:88,y:25}},opacity:1},duration:80,next:{wait:40,next:{nodeId:"cta",from:{translate:{x:517,y:21},scale:{value:{x:1,y:1},anchor:{x:88,y:25}},rotate:{value:0,anchor:{x:88,y:25}},opacity:1},to:{translate:{x:517,y:21},scale:{value:{x:1,y:1},anchor:{x:88,y:25}},rotate:{value:0,anchor:{x:88,y:25}},opacity:1},duration:1480}}}}}}}}},count:0},win:{wait:1}}}},function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function o(n,t,e,r,o,u,i){n=a.updateAll(function(n){return n.transform=f.mergeDefaultTrans(n.transform,n),n},n);var c=p.initSystemStates(e);return r.subscribe(function(n){}),setTimeout(function(){return r.goTo(o,new g.MachineState(n,t,i,null))},1),t.fold(function(n,e){if(e instanceof d.UpdateEvent&&(n=s.update(n,e.id,function(n){return null!=e.asset&&(n=b.assoc(n,{asset:e.asset})),e.transform&&(n=b.assoc(n,{transform:e.absolute?f.mergeTransform(n.transform,e.transform):s.applyTransform(n,e.transform)})),n})),e instanceof d.InsertEvent&&(n=s.insert(n,e.parent,e.node)),e instanceof d.RemoveEvent&&(n=s.remove(n,e.id)),e instanceof d.ComponentEvent){var o=e.name,l=e.add,v=e.remove;c=p.updateSystems(c,o,l,v)}if(Object.keys(c).forEach(function(r){var o=c[r],u=o.nodeIds,i=o.state,s=a.flatMap(function(n){return n},n).filter(function(n){return-1!==u.indexOf(n.id)});if(s&&s.length>0){var l=o.action(n,e,s,i);o.state=l[0],l[1].forEach(function(n){return t.push(n)})}}),e instanceof d.StateEvent&&r.send(e.name,new g.MachineState(n,t,i,e.data)),d.TrackEvent,e instanceof d.AssetEvent){if(!u[e.name]||"function"!=typeof u[e.name][e.data])throw new Error('Unknown asset event "'+e.data+'" for asset "'+e.name+'".');u[e.name][e.data]()}return n},n)}Object.defineProperty(t,"__esModule",{value:!0}),t.run=o;var u=e(6),i=(r(u),e(7)),a=r(i),c=e(1),s=r(c),l=e(2),f=r(l),v=e(0),d=r(v),h=e(5),p=r(h),y=e(4),b=r(y),m=e(12),w=(function(n){n&&n.__esModule}(m),e(31)),g=r(w)},function(n,t,e){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.MachineState=function n(t,e,o,u){r(this,n),this.scene=t,this.events=e,this.animations=o,this.data=u}},function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function o(n,t){return y(new InsertEvent(n,t))}function u(n){return y(new d.RemoveEvent(n))}function i(n,t,e){return y(new d.UpdateEvent(n,null,t,!!e))}function a(n,t){return y(new d.UpdateEvent(n,t,null))}function c(n,t){return y(new d.StateEvent(n,t))}function s(n,t,e){return y(new d.ComponentEvent(n,t,e))}function l(n){return y(new d.StateEvent("cancel:"+n,null))}function f(n,t){return y(new d.TrackEvent(n,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.insert=o,t.remove=u,t.transform=i,t.asset=a,t.state=c,t.component=s,t.cancel=l,t.track=f;var v=e(0),d=r(v),h=e(6),p=r(h),y=p.Stream.unit},function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function o(n,t,e){var r=e.length;return i.Stream.interval(t).scan(function(n,t){return(n+1)%r},0).map(function(n){return e[n]}).map(function(t){return new c.UpdateEvent(n,t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var u=e(6),i=r(u),a=e(0),c=r(a)},function(n,e,r){"use strict";function o(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,e,r,o,u,a,c,s,l,f){return i.Stream.interval(1e3/(f||60)).scan(function(n){return{x:n.x+n.vx,y:n.y+n.vy,r:n.r+n.vr,vx:n.vx,vy:n.vy+s,vr:n.vr}},{x:e.translate.x,y:e.translate.y,r:e.rotate.value,vx:r,vy:o,vr:u}).takeUntil(i.Stream.interval(l)).map(function(e){return new events.UpdateEvent(n,null,t.compose(t.translate(e.x,e.y),t.rotateAround(a,c,e.r)),!0)})};var u=r(6),i=o(u),a=r(17),c=(o(a),r(0)),s=(o(c),r(16));!function(n){n&&n.__esModule}(s)},function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function o(n,t){var e=void 0;return l(n)?e=u(n,t):f(n)?e=i(n,t):v(n)?e=a(n,t):d(n)?e=c(n,t):h(n)&&(e=s(n,t)),n.next?function(){return e().concat(o(n.next,t)())}:e}function u(n,t){var e=n.nodeId,r=n.from,o=n.to,u=n.duration,i=n.easing,a=void 0,c=void 0;try{var s=g.byId(t.scene,e);a="@"===r?s.transform:_.mergeTransform(s.transform,r),c="@"===o?s.transform:_.mergeTransform(s.transform,o)}catch(n){var l=_.getDefaultTransform();a=_.mergeTransform(l,r),c=_.mergeTransform(l,o)}return function(){return m.tween(e,a,c,u,i,t.animations.fps)}}function i(n,t){var e=n.nodeId,r=n.assetId;return function(){return k.asset(e,r)}}function a(n,t){return function(){return y.Stream.wait(n.wait)}}function c(n,t){return function(){var e=n.merge.map(function(n){return o(n,t)});return y.Stream.mergeAll(e.map(function(n){return n()}))}}function s(n,t){var e=n.count,r=o(n.repeat,t);return!isNaN(e)&&e>0?function(){return y.Stream.repeatFinite(function(){return r()},e)}:function(){return y.Stream.repeat(function(){return r()})}}function l(n){return n.hasOwnProperty("nodeId")&&n.hasOwnProperty("from")}function f(n){return n.hasOwnProperty("nodeId")&&n.hasOwnProperty("assetId")}function v(n){return n.hasOwnProperty("wait")}function d(n){return n.hasOwnProperty("merge")}function h(n){return n.hasOwnProperty("repeat")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var p=e(6),y=r(p),b=e(19),m=r(b),w=e(1),g=r(w),O=e(2),_=r(O),x=e(32),k=r(x)},function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function o(n){var t=v.default.Linear.None;return n&&"string"==typeof n&&(n=n.split("."),2===n.length&&(t=v.default[n[0]][n[1]])),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(n,t,e,r,u,a){return c.tween(i.Stream.interval(1e3/(a||60)),t,e,r,"function"==typeof u?u:o(u)).map(function(t){return new l.UpdateEvent(n,null,t,!0)})};var u=e(6),i=r(u),a=e(17),c=r(a),s=e(0),l=r(s),f=e(16),v=function(n){return n&&n.__esModule?n:{default:n}}(f)},function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function o(n,t,e,r){var o=e.asset;if(null!=o){t.save(),t.transform(r.a,r.p,r.b,r.q,r.c,r.r),t.globalAlpha=r.o;try{n[o].loading||n[o].draw(t,r,e)}catch(n){throw n}t.restore()}}function u(n,t,e,r){var u=document.createElement("canvas"),i=u.getContext("2d"),c=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1),s=p.fitSize(n,t,c),l=a(s,2),f=l[0],v=l[1];return u.width=f.x*c,u.height=f.y*c,u.style.width=f.x+"px",u.style.height=f.y+"px",r&&Object.keys(r).map(function(n){var t=r[n];p.importFont(n,t.urls)}),d.loadAssets(e).then(function(e){return{canvas:n,target:t,physical:f,element:u,baseTransform:v,events:g.eventsFor(u,v,c),assetCache:e,render:function(n){i.clearRect(0,0,t.x*c,t.y*c),p.renderTree(n,v,o.bind(null,e,i))}}},null)}function i(){return!0}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function n(n,t){var e=[],r=!0,o=!1,u=void 0;try{for(var i,a=n[Symbol.iterator]();!(r=(i=a.next()).done)&&(e.push(i.value),!t||e.length!==t);r=!0);}catch(n){o=!0,u=n}finally{try{!r&&a.return&&a.return()}finally{if(o)throw u}}return e}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.createContext=u,t.supported=i;var c=e(7),s=(r(c),e(2)),l=(r(s),e(1)),f=(r(l),e(3)),v=(r(f),e(20)),d=r(v),h=e(38),p=r(h),y=e(21),b=(r(y),e(8)),m=(function(n){n&&n.__esModule}(b),e(0)),w=(r(m),e(18)),g=r(w)},function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function o(n,t,e){function r(n,t){var o=c.compose(n,c.fromTransform(t.node.transform));e(t.node,o),t.children.forEach(r.bind(null,o))}r(t,n)}function u(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=n.x/n.y,o=t.x/r,u=o>t.y?f.point(t.y*r,t.y):f.point(t.x,o),i=u.x/n.x*e;return[u,c.scale(i,i)]}function i(n,t){if(t.length){var e=document.getElementsByTagName("head")[0],r=document.createElement("style"),o="@font-face {";o+="\n\tfont-family: '"+n+"';",o+="\n\tsrc: ",o+=t.map(function(n){var t=void 0;return-1!==n.indexOf(".eot")?t="embedded-opentype":-1!==n.indexOf(".ttf")?t="truetype":-1!==n.indexOf(".otf")?t="opentype":-1!==n.indexOf(".svg")?t="svg":-1!==n.indexOf(".woff2")?t="woff2":-1!==n.indexOf(".woff")&&(t="woff"),"url('"+n+"') format('"+t+"')"}).join(",\n\t\t "),o+=";\n}",r.appendChild(document.createTextNode(o)),e.appendChild(r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.renderTree=o,t.fitSize=u,t.importFont=i;var a=e(13),c=r(a),s=e(1),l=(r(s),e(3)),f=r(l)},function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function u(n,t,e,r){if(t instanceof v.ClickEvent){var o=s.nodeAtPoint(n,t.point,e);if(o){var u=o.id,i=t.button?"down":"up",a={point:t.point,clickType:i},c=p+":"+u+":"+i;return[null,h.containsId(o,e)?[new v.StateEvent(c,{nodeId:u,eventData:a,eventState:c})]:[]]}}return[null,[]]}Object.defineProperty(t,"__esModule",{value:!0});var i=e(5),a=(r(i),e(7)),c=(r(a),e(1)),s=r(c),l=e(2),f=(r(l),e(0)),v=r(f),d=e(4),h=r(d),p="click",y=function n(t,e){o(this,n),this.name=t,this.action=u,this.state=null};t.default=y},function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function u(n,t){var e=[n,t];return e.sort(),e.join(":")}function i(n,t,e){return e.filter(function(e){return n.add(t,e)}).map(function(n){return u(t,n)})}function a(n,t,e){return e.filter(function(e){return n.remove(t,e)}).map(function(n){return u(t,n)})}function c(n,t,e,r){var o=void 0,u=void 0,c=void 0,l=void 0,f=function(t){return d.bounds(t,d.absTransform(n,t))};if(t instanceof y.UpdateEvent&&m.containsId(t,e)){if(null==(o=d.byId(n,t.id)))throw new Error('Node "'+t.id+'" mentioned in UpdateEvent but not in scene graph');r=r.copy(),u=f(o),e=e.filter(function(n){return n.id!==o.id});var v=m.split(function(n){return g.intersectsBounds(f(n),u)},e),h=s(v,2);return c=h[0],l=h[1],c=i(r,o.id,c.map(function(n){return n.id})).map(function(n){return new y.StateEvent(O+":on:"+n,null)}),l=a(r,o.id,l.map(function(n){return n.id})).map(function(n){return new y.StateEvent(O+":off:"+n,null)}),[r,c.concat(l)]}return[r,[]]}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function n(n,t){var e=[],r=!0,o=!1,u=void 0;try{for(var i,a=n[Symbol.iterator]();!(r=(i=a.next()).done)&&(e.push(i.value),!t||e.length!==t);r=!0);}catch(n){o=!0,u=n}finally{try{!r&&a.return&&a.return()}finally{if(o)throw u}}return e}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),f=e(5),v=(r(f),e(1)),d=r(v),h=e(2),p=(r(h),e(0)),y=r(p),b=e(4),m=r(b),w=e(3),g=r(w),O="collide",_=function(){function n(){o(this,n),this.links={}}return l(n,[{key:"add",value:function(n,t){var e=u(n,t),r=!this.links[e];return this.links[e]=!0,r}},{key:"remove",value:function(n,t){var e=u(n,t),r=!!this.links[e];return this.links[e]=!1,r}},{key:"copy",value:function(){var t=new n;return t.links=m.merge(this.links),t}}]),n}(),x=function n(t,e){o(this,n),this.name=t,this.action=c,this.state=new _};t.default=x},function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function u(n,t,e,r){var o=void 0,u=void 0;if(!(t instanceof v.ClickEvent)){if(t instanceof v.MoveEvent&&null!=r){if(null==c.byId(n,r.id))throw new Error('Node "'+r.id+'" vanished while being dragged!');return u=y.subPoints(t.point,r.point),[h.assoc(r,{point:t.point}),[new v.UpdateEvent(r.id,null,l.translatePoint(u))]]}return t instanceof v.StateEvent&&"cancel:drag"===t.name?[null,[]]:[r,[]]}if(t.button){if(o=c.nodeAtPoint(n,t.point,e)){var i=o.id,a={point:t.point},s=b+":start:"+i;return[{id:i,point:t.point},[new v.StateEvent(s,{nodeId:i,eventData:a,eventState:s})]]}return[r,[]]}if(null===r)return[null,[]];if(r.id){var f=r.id,d=b+":end:"+f;return[null,[new v.StateEvent(d,{nodeId:f,eventState:d})]]}}Object.defineProperty(t,"__esModule",{value:!0});var i=e(5),a=(r(i),e(1)),c=r(a),s=e(2),l=r(s),f=e(0),v=r(f),d=e(4),h=r(d),p=e(3),y=r(p),b="drag",m=function n(t,e){o(this,n),this.name=t,this.action=u,this.state=null};t.default=m},function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function u(n,t){return{name:n,seed:null,action:function(e,r,o,u){var i=void 0,a=void 0,s=void 0,l=void 0,v=function(n){return c.bounds(n,c.absTransform(e,n))};if(r instanceof f.StateEvent&&(i=r.name.split(":"),"drag"===i[0]&&"end"===i[1])){if(null==(a=c.byId(e,i[2])))throw new Error('Node "'+i[2]+'" reported as dragged but not found by drop system!');return s=v(a),l=d.first(function(n){return t(v(n),s)},o),null!=l?[null,[new f.StateEvent(n+":on:"+a.id+":"+l.id,null)]]:[null,[new f.StateEvent(n+":fail:"+a.id,null)]]}return[null,[]]}}}Object.defineProperty(t,"__esModule",{value:!0});var i=e(5),a=(r(i),e(1)),c=r(a),s=e(2),l=(r(s),e(0)),f=r(l),v=e(4),d=r(v),h=e(3),p=r(h),y=function n(t,e){o(this,n);var r="drop"===t?u(t,p.intersectsBounds):u("dropInside",p.containsBounds);this.name=r.name,this.action=r.action,this.state=r.seed};t.default=y},function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function u(n,t,e,r,o){if(e instanceof v.MoveEvent){var u=o?s.byId(t,o):null,i=s.nodeAtPoint(t,e.point,r),a=null==u?null:u.id,c=null==i?null:i.id;if(c===a)return[c,[]];var l=[];if(null!=i){n.hover&&l.push(new v.UpdateEvent(c,n.hover));var f=h+":on:"+c;l.push(new v.StateEvent(f))}if(null!=u){n.normal&&l.push(new v.UpdateEvent(a,n.normal));var d=h+":off:"+a;l.push(new v.StateEvent(d))}return[c,l]}return[o,[]]}Object.defineProperty(t,"__esModule",{value:!0});var i=e(5),a=(r(i),e(7)),c=(r(a),e(1)),s=r(c),l=e(2),f=(r(l),e(0)),v=r(f),d=e(4),h=(r(d),"hover"),p=function n(t,e){o(this,n),this.name=t,this.action=u.bind(null,e.assets),this.state=null};t.default=p},function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function u(n,t,e,r,o,u){if(r instanceof f.OrientationEvent){var i=r.orientation,a=u.origin||i,c={x:0,y:0};c="x"===t?{x:n*Math.tan((a.roll-i.roll)/360*2*Math.PI),y:0}:"y"===t?{x:0,y:n*Math.tan((a.pitch-i.pitch)/360*2*Math.PI)}:{x:n*Math.tan((a.roll-i.roll)/360*2*Math.PI),y:n*Math.tan((a.pitch-i.pitch)/360*2*Math.PI)};var l=u&&u.abs?d.subPoints(c,u.abs):c;return[{abs:c,origin:a},o.map(function(n){return new f.UpdateEvent(n.id,null,s.translatePoint(l))})]}return[u,[]]}Object.defineProperty(t,"__esModule",{value:!0});var i=e(5),a=(r(i),e(1)),c=(r(a),e(2)),s=r(c),l=e(0),f=r(l),v=e(10),d=r(v),h=function n(t,e){o(this,n);var r=e.depth,i=e.axis;i="string"==typeof i?i.toLowerCase():"","x"!==i&&"y"!==i&&(i="xy"),this.name=t,this.action=u.bind(null,r,i),this.state={abs:null,origin:null}};t.default=h},function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function u(n,t,e,r){return t instanceof l.AccelerationEvent&&t.acceleration.x>5?[null,[new l.StateEvent(v,null)]]:[r,[]]}Object.defineProperty(t,"__esModule",{value:!0});var i=e(5),a=(r(i),e(1)),c=(r(a),e(2)),s=(r(c),e(0)),l=r(s),f=e(10),v=(r(f),"shake"),d=function n(t,e){o(this,n),this.name=t,this.action=u,this.state=null};t.default=d},function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function u(n,t,e,r,o){var u=void 0,i=void 0;if(!(e instanceof v.ClickEvent)){if(e instanceof v.MoveEvent&&null!=o){if(null==c.byId(t,o.id))throw new Error('Node "'+o.id+'" vanished while sliding!');return i=y.subPoints(e.point,o.point),i["x"===n?"y":"x"]=0,[h.assoc(o,{point:e.point}),[new v.UpdateEvent(o.id,null,l.translatePoint(i))]]}return e instanceof v.StateEvent&&"cancel:slide"===e.name?[null,[]]:[o,[]]}if(e.button){if(u=c.nodeAtPoint(t,e.point,r)){var a=u.id,s={point:e.point},f=b+":start:"+a;return[{id:u.id,point:e.point},[new v.StateEvent(f,{nodeId:a,eventData:s,eventState:f})]]}return[o,[]]}if(null===o)return[null,[]];if(o.id){var d=o.id,p=b+":end:"+d;return[null,[new v.StateEvent(p,{nodeId:d,eventState:p})]]}}Object.defineProperty(t,"__esModule",{value:!0});var i=e(5),a=(r(i),e(1)),c=r(a),s=e(2),l=r(s),f=e(0),v=r(f),d=e(4),h=r(d),p=e(10),y=r(p),b="slide",m=function n(t,e){o(this,n);var r=e.axis;if("x"!==r&&"y"!==r)throw new Error('Axis must be "x" or "y", was "'+r+'."');this.name=t,this.action=u.bind(null,r),this.state=null};t.default=m},function(n,t,e){"use strict";function r(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function u(n,t,e,r,o,u){if(r instanceof l.OrientationEvent){var i=r.orientation,a=u.origin||i;if(null===u.origin){var c=v+":start";return[{origin:a},[new l.StateEvent(c,{})]]}if("x"===t){if(Math.abs(a.roll-i.roll)>=n){var s=v+":end";return[{origin:a},[new l.StateEvent(s,{})]]}}else if("y"===t&&Math.abs(a.pitch-i.pitch)>=n){var f=v+":end";return[{origin:a},[new l.StateEvent(f,{})]]}return[{origin:a},[]]}return[u,[]]}Object.defineProperty(t,"__esModule",{value:!0});var i=e(5),a=(r(i),e(1)),c=(r(a),e(2)),s=(r(c),e(0)),l=r(s),f=e(10),v=(r(f),"tilt"),d=function n(t,e){o(this,n);var r=e.angle,i=e.axis;i="string"==typeof i?i.toLowerCase():"","x"!==i&&"y"!==i&&(i="xy"),this.name=t,this.action=u.bind(null,r,i),this.state={origin:null}};t.default=d},function(n,t,e){"use strict";(function(n){function r(){var t=void 0!==window.performance?window.performance:null;return(t&&(t.now||t.webkitNow||t.msNow||t.oNow||t.mozNow)||n&&n.hrtime&&function(){var t=n.hrtime();return(1e9*t[0]+t[1])/1e6}||Date.now).call(t)}function o(){var n=function(n){setTimeout(function(){n(r())},1e3/60)},t=window.clearTimeout;return window.requestAnimationFrame?(n=window.requestAnimationFrame,t=window.cancelAnimationFrame):window.mozRequestAnimationFrame?(n=window.mozRequestAnimationFrame,t=window.mozCancelAnimationFrame):window.webkitRequestAnimationFrame?(n=window.webkitRequestAnimationFrame,t=window.webkitCancelAnimationFrame):window.msRequestAnimationFrame?(n=window.msRequestAnimationFrame,t=window.msCancelAnimationFrame):window.oRequestAnimationFrame&&(n=window.oRequestAnimationFrame,t=window.oCancelAnimationFrame),new i.Stream(function(e){var r=n(function t(r){e.value(r),n(t)});return function(){return t(r)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrame=o;var u=e(6),i=function(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}(u)}).call(t,e(54))},function(n,t,e){"use strict";(function(e){function r(n){var t=null;try{window.regeneratorRuntime&&(t=window.regeneratorRuntime.isGeneratorFunction)}catch(n){}try{e.regeneratorRuntime&&(t=e.regeneratorRuntime.isGeneratorFunction)}catch(n){}if(null!==t)return t(n);if("function"!=typeof n)return!1;var r=o.call(n);return("[object Function]"===r||"[object GeneratorFunction]"===r)&&i.test(u.call(n))}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.prototype.toString,u=Function.prototype.toString,i=/^\s*function\*/;t.default=r,n.exports=t.default}).call(t,e(9))},function(n,t,e){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function u(n){return n instanceof f.default?n:f.default.resolved(n)}function i(n,t,e){var r=n[t]||n["*"];return null==r?null:r[e]||r["*"]}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),s=function(n,t,e){for(var r=!0;r;){var o=n,u=t,i=e;r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,u);if(void 0!==a){if("value"in a)return a.value;var c=a.get;if(void 0===c)return;return c.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return;n=s,t=u,e=i,r=!0,a=s=void 0}},l=e(24),f=function(n){return n&&n.__esModule?n:{default:n}}(l),v=e(53),d=function(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}(v),h=function(n){function t(n,e,o){r(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.state=null,this.states=n,this.transitions=null!=e?e:{},this.entries=null!=o?o:{},this.transitioning=!1}return o(t,n),c(t,[{key:"goTo",value:function(n,t){var e=this;if(this.transitioning)return!1;var r=function(n){e.state=n,e.push(n);var r=e.entries[n];null!=r&&"string"==typeof(n=r(e,t))&&e.goTo(n,t)},o=i(this.transitions,this.state,n);return null!=o?(this.transitioning=!0,u(o(this,t)).then(function(t){e.transitioning=!1,t&&r(n)})):r(n),!0}},{key:"send",value:function(n,t){if(!this.state||!this.states[this.state]||this.transitioning)return!1;var e=(this.state,this.states[this.state]),r=e[n],o=r?r(this,t):null;return null==o||this.goTo(o,t)}},{key:"whileIn",value:function(n,t){return n.takeUntil(this.filter(function(n){return n!==t}))}},{key:"until",value:function(n,t){return n.takeUntil(this.filter(function(n){return t.indexOf(n)>=0}))}}]),t}(d.Bus);t.default=h,n.exports=t.default},function(n,t,e){"use strict";(function(t){function e(n){i.length||(u(),a=!0),i[i.length]=n}function r(){for(;c<i.length;){var n=c;if(c+=1,i[n].call(),c>s){for(var t=0,e=i.length-c;t<e;t++)i[t]=i[t+c];i.length-=c,c=0}}i.length=0,c=0,a=!1}function o(n){return function(){function t(){clearTimeout(e),clearInterval(r),n()}var e=setTimeout(t,0),r=setInterval(t,50)}}n.exports=e;var u,i=[],a=!1,c=0,s=1024,l=void 0!==t?t:self,f=l.MutationObserver||l.WebKitMutationObserver;u="function"==typeof f?function(n){var t=1,e=new f(n),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(r):o(r),e.requestFlush=u,e.makeRequestCallFromTimer=o}).call(t,e(9))},function(n,t,e){"use strict";(function(e){function r(n){var t=null;try{window.regeneratorRuntime&&(t=window.regeneratorRuntime.isGeneratorFunction)}catch(n){}try{e.regeneratorRuntime&&(t=e.regeneratorRuntime.isGeneratorFunction)}catch(n){}if(null!==t)return t(n);if("function"!=typeof n)return!1;var r=o.call(n);return("[object Function]"===r||"[object GeneratorFunction]"===r)&&i.test(u.call(n))}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.prototype.toString,u=Function.prototype.toString,i=/^\s*function\*/;t.default=r,n.exports=t.default}).call(t,e(9))},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":v(t)));n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n){throw n}function a(n,t,e,r){var o=void 0;try{o=n(t)}catch(n){return void r(n)}e(o)}function c(n){var t=n();return t.next(),new x(function(n){return t.next(n)},function(n){return t.throw(n)},function(){return t.return()})}function s(n){return new P(n)}function l(){return new j}function f(n){return new M(n)}var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),h=function(n,t,e){for(var r=!0;r;){var o=n,u=t,i=e;a=s=c=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,u);if(void 0!==a){if("value"in a)return a.value;var c=a.get;if(void 0===c)return;return c.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return;n=s,t=u,e=i,r=!0}};t.stream=s,t.bus=l,t.property=f;var p=e(24),y=r(p),b=e(11),m=r(b),w=e(52),g=r(w),O=function(){},_=function n(t,e,r){u(this,n),this.value=t,this.error=e,this.close=r};t.Sink=_;var x=function n(t,e,r){u(this,n),this.value=t||O,this.error=e||i,this.close=r||O};t.Observer=x;var k=function(n){function t(n){var e=this;u(this,t),h(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.closed=!1,this.observers=[],this.freeFn=null,this.producer=n,this.sink=new _(function(n){return(0,m.default)(function(){return e.observers.forEach(function(t){return t.value(n)})})},function(n){return(0,m.default)(function(){e.observers.forEach(function(t){return t.error(n)}),e.cleanup(),e.resolved||e.reject(n)})},function(){return(0,m.default)(function(){e.closed=!0,e.observers.forEach(function(n){return n.close()}),e.cleanup(),e.resolved||e.resolve(!0)})})}return o(t,n),d(t,[{key:"produce",value:function(){this.freeFn=this.producer(this.sink)}},{key:"free",value:function(){this.freeFn&&this.freeFn()}},{key:"cleanup",value:function(){this.free(),this.observers=[]}},{key:"observe",value:function(n){var t=this;if(this.closed)throw new Error("Cannot subscribe to a closed stream.");var e=0===this.observers.length;this.observers.push(n),e&&(0,m.default)(function(){return t.produce()})}},{key:"unobserve",value:function(n){var t=this.observers.indexOf(n);t>=0&&(this.observers=this.observers.slice(0,t).concat(this.observers.slice(t+1)),0===this.observers.length&&(this.free(),this.freeFn=null))}},{key:"subscribe",value:function(n,t,e){var r=(0,g.default)(n)?c(n):new x(n,t,e);return this.observe(r),r}},{key:"fold",value:function(n,t){var e=this,r=t;return new E(t,function(t){var o=function(o){var u=function(n){r=n,t.value(n)};a(n.bind(e,r),o,u,t.error)},u=e.subscribe(o,t.error,t.close);return function(){return e.unobserve(u)}})}},{key:"scan",value:function(n,t){var e=this,r=t;return new P(function(t){var o=function(o){var u=function(n){r=n,t.value(n)};a(n.bind(e,r),o,u,t.error)},u=e.subscribe(o,t.error,t.close);return function(){return e.unobserve(u)}})}}]),t}(y.default);t.Observable=k;var E=function(n){function t(n,e){var r=this;u(this,t),h(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.value=n;var o=this.sink.value;this.sink.value=function(n){o(n),r.value=n}}return o(t,n),d(t,[{key:"observe",value:function(n){h(Object.getPrototypeOf(t.prototype),"observe",this).call(this,n),n.value(this.value)}},{key:"sampleOn",value:function(n){var e=this;return new t(this.value,function(t){var r=e.value,o=e.subscribe(function(n){r=n},t.error,t.close),u=n.subscribe(function(n){t.value(r)},t.error,t.close);return function(){e.unobserve(o),n.unobserve(u)}})}},{key:"distinct",value:function(){var n=this;return new t(this.value,function(t){var e=n.value,r=n.subscribe(function(n){n!==e&&t.value(n),e=n},t.error,t.close);return function(){return n.unobserve(r)}})}},{key:"zip",value:function(n,e){var r=this,o=[this.value,n.value];return new t(e(o[0],o[1]),function(t){var u=o,i=[!1,!1],a=function(){r.unobserve(f),n.unobserve(v)},c=function(n){t.error(n),a()},s=function(){t.close(),a()},l=function(n){return function(r){i[n]?(u[n]=r,t.value(e(u[0],u[1]))):i[n]=!0}},f=r.subscribe(l(0),c,s),v=n.subscribe(l(1),c,s);return a})}}]),t}(k);t.Signal=E;var P=function(n){function t(){u(this,t),h(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,n),d(t,[{key:"map",value:function(n){var e=this;return new t(function(t){var r=e.subscribe(function(e){return a(n,e,t.value,t.error)},t.error,t.close);return function(){return e.unobserve(r)}})}},{key:"filter",value:function(n){var e=this;return new t(function(t){var r=e.subscribe(function(e){return a(n,e,function(n){n&&t.value(e)},t.error)},t.error,t.close);return function(){return e.unobserve(r)}})}},{key:"merge",value:function(n){var e=this;return new t(function(t){var r=[!1,!1],o=function(){e.unobserve(a),e.unobserve(c)},u=function(n){t.error(n),o()},i=function(n){return function(){r[n]=!0,r[0]&&r[1]&&(t.close(),o())}},a=e.subscribe(t.value,u,i(0)),c=n.subscribe(t.value,u,i(1));return o})}},{key:"concat",value:function(n){var e=this;return new t(function(t){var r=e,o=e.subscribe(t.value,t.error,function(){e.unobserve(o),r=n,o=n.subscribe(t.value,t.error,t.close)});return function(){return r.unobserve(o)}})}},{key:"zip",value:function(n,e){var r=this;return new t(function(t){var o=[null,null],u=function(){r.unobserve(s),n.unobserve(l)},i=function(n){t.error(n),u()},a=function(){t.close(),u()},c=function(n){return function(r){o[n]=r,t.value(e(o[0],o[1]))}},s=r.subscribe(c(0),i,a),l=n.subscribe(c(1),i,a);return u})}},{key:"zipLeft",value:function(n,e){var r=this;return new t(function(t){var o=[null,null],u=function(){r.unobserve(s),n.unobserve(l)},i=function(n){t.error(n),u()},a=function(){t.close(),u()},c=function(n){return function(r){o[n]=r,0===n&&t.value(e(o[0],o[1]))}},s=r.subscribe(c(0),i,a),l=n.subscribe(c(1),i,a);return u})}},{key:"take",value:function(n){var e=this,r=0;return new t(function(t){var o=e.subscribe(function(u){r++,r<=n&&t.value(u),r>=n&&(e.unobserve(o),t.close())},t.error,t.close);return function(){return e.unobserve(o)}})}},{key:"flatMap",value:function(n){return t.unpack(this.map(n))}},{key:"distinct",value:function(){var n=this;return new t(function(t){var e=void 0,r=n.subscribe(function(n){n!==e&&t.value(n),e=n},t.error,t.close);return function(){return n.unobserve(r)}})}},{key:"delay",value:function(n){var e=this;return new t(function(t){var r=function(t){return function(e){return setTimeout(function(){return t(e)},n)}},o=e.subscribe(r(t.value),r(t.error),r(t.close));return function(){return e.unobserve(o)}})}},{key:"takeUntil",value:function(n){var e=this;return new t(function(t){var r=e.subscribe(t.value,t.error,t.close),o=n.subscribe(function(n){t.close(),u()},t.error),u=function(){e.unobserve(r),e.unobserve(o)}})}},{key:"takeWhile",value:function(n){var e=this;return new t(function(t){var r=e.subscribe(function(e){n(e)?t.value(e):(t.close(),o())},t.error,t.close),o=function(){e.unobserve(r)}})}},{key:"sampleOn",value:function(n,t){return this.fold(function(n,t){return t},t).sampleOn(n)}}]),t}(k);t.Stream=P;var j=function(n){function t(){u(this,t),h(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(){})}return o(t,n),d(t,[{key:"push",value:function(n){this.observers.length>0&&this.sink.value(n)}},{key:"close",value:function(){this.sink.close()}},{key:"pipe",value:function(n){n.subscribe(this.sink.value,this.sink.error)}}]),t}(P);t.Bus=j;var M=function(n){function t(n){u(this,t),h(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,n,function(){})}return o(t,n),d(t,[{key:"set",value:function(n){this.observers.length>0&&this.sink.value(n)}},{key:"close",value:function(){this.sink.close()}}]),t}(E);t.Property=M,P.interval=function(n){return new P(function(t){var e=setInterval(function(){return t.value("undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now())},n);return function(){return clearInterval(e)}})},P.tick=function(n){return new P(function(t){var e=0,r=setInterval(function(){return t.value(e++)},n);return function(){return clearInterval(r)}})},P.unpack=function(n){return new P(function(t){var e=n.subscribe(function(n){return n.forEach(function(n){return t.value(n)})},t.error,t.close);return function(){return n.unobserve(e)}})},P.mergeAll=function(n){if(0===n.length)throw new Error("Stream.mergeAll() called with an empty array, and that makes no sense.");return 1===n.length?n[0]:n.reduce(function(n,t){return n.merge(t)})},P.concatAll=function(n){if(0===n.length)throw new Error("Stream.concatAll() called with an empty array, and that makes no sense.");return 1===n.length?n[0]:n.reduce(function(n,t){return n.concat(t)})},P.repeat=function(n){return new P(function(t){var e=null,r=null;return function o(){e=n(),r=e.subscribe(t.value,t.error,o)}(),function(){return e.unobserve(r)}})},P.of=function(n){return new P(function(t){(0,m.default)(function(){n.forEach(function(n){return t.value(n)}),t.close()})})},P.unit=function(n){return P.of([n])},P.wait=function(n){return new P(function(t){setTimeout(function(){return t.close()},n)})}},function(n,t,e){"use strict";function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(n){if(f===setTimeout)return setTimeout(n,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(n,0);try{return f(n,0)}catch(t){try{return f.call(null,n,0)}catch(t){return f.call(this,n,0)}}}function i(n){if(v===clearTimeout)return clearTimeout(n);if((v===o||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(n);try{return v(n)}catch(t){try{return v.call(null,n)}catch(t){return v.call(this,n)}}}function a(){y&&h&&(y=!1,h.length?p=h.concat(p):b=-1,p.length&&c())}function c(){if(!y){var n=u(a);y=!0;for(var t=p.length;t;){for(h=p,p=[];++b<t;)h&&h[b].run();b=-1,t=p.length}h=null,y=!1,i(n)}}function s(n,t){this.fun=n,this.array=t}function l(){}var f,v,d=n.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(n){f=r}try{v="function"==typeof clearTimeout?clearTimeout:o}catch(n){v=o}}();var h,p=[],y=!1,b=-1;d.nextTick=function(n){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];p.push(new s(n,t)),1!==p.length||y||u(c)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(n){return[]},d.binding=function(n){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(n){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(n,t,e){"use strict";(function(n){function t(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function r(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var o=e(12),u=function(n){return n&&n.__esModule?n:{default:n}}(o),i=e(25),a=t(i),c=e(14),s=t(c),l=e(0),f=(t(l),e(1)),v=t(f);n.PlayUnlock=function(){var n={},t={},o=e(29),i=o.systems,c=o.assets,l=o.scene;c.cta.url=e(28),c.border.url=e(27),c.bg.url=e(26);var f=void 0,d=void 0,h=v.get(l,"video");h=h?h.node:null;var p=new u.default({start:{"NOT-IN-USE":function(){return"engage"}},engage:r({"NOT-IN-USE":function(){return"win"}},"NOT-IN-USE",function(){return"reset"}),win:{},reset:{"NOT-IN-USE":function(){return"engage"}}},{start:{},engage:{},win:{},reset:{}},{start:function(n,t){s.animation(t,"start",function(t){return n.whileIn(t,"start")})},engage:function(n,t){var e="nodeId";if(i.shake)e="shake";else if(i.tilt)e="tilt";else if(t.data){var r=t.data,o=r.nodeId;r.eventData;o&&(f=o)}return s.track(t.events,"dropped",{node:f||e,dropX:0,dropY:0}),!1},win:function(n,t){f&&s.component(t.events,f,[],["drag","slide","collide"]),s.animation(t,"win").then(function(){if(h){var n=h.asset;d=function(){s.transform(t.events,"video",{opacity:0},!0),s.animation(t,"postvideo").then(function(){return s.track(t.events,"completed")})},s.transform(t.events,"video",{opacity:1},!0),s.play(t.events,n)}else s.track(t.events,"completed")})},reset:function(n,t){s.animation(t,"reset",function(t){return n.whileIn(t,"reset")}).then(function(){"reset"===n.state&&n.goTo("start",t)})}});return n.create=function(n,e,r,u){a.init({targetElement:n,targetSize:{x:e,y:r},canvasSize:Object.assign({},o.scene.node.size),fsm:p,spec:o,initialState:"start"}).then(function(n){var e=n.context,r=e.physical,o=e.assetCache;if(n.trackEvents.subscribe(function(n){switch(n.name){case"dropped":t.onDrop&&t.onDrop(n.data);break;case"completed":t.onComplete&&t.onComplete()}}),n.stateEvents.subscribe(function(n){if(0===n.name.indexOf("click")){var e=n.data,r=e.nodeId,o=e.eventData;if(t.onClickThrough&&"up"===o.clickType&&i.click&&r===i.click.nodeIds[0]){var u=i.click.data.url;t.onClickThrough(u)}}}),h){var a=h.asset,c=n.context.element,s=function n(t){o[a].load(),c.removeEventListener("touchstart",n),c.removeEventListener("touchend",n)};navigator.userAgent.match(/Android/i)?c.addEventListener("touchend",s):c.addEventListener("touchstart",s),o[a].onplay=function(n){t.onVideoStart&&t.onVideoStart()},o[a].ontimeupdate=function(n,e){t.onVideoTimer&&t.onVideoTimer(e)},o[a].onended=function(n){d&&d(),t.onVideoEnd&&t.onVideoEnd()},o[a].onerror=function(n){d&&d(),t.onVideoError&&t.onVideoError()}}u&&u(r)})},n.attach=function(n,e){e&&(t[n]=e)},n}()}).call(t,e(9))}]);